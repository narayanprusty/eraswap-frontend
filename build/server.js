require("source-map-support").install(),module.exports=function(e){var t={},n={12:0};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.e=function(t){if(0!==n[t]){var r=require("./chunks/"+({1:"not-found",5:"admin",6:"privacy",7:"about",8:"register",9:"login",10:"contact",11:"home"}[t]||t)+".js"),o=r.modules,a=r.ids;for(var i in o)e[i]=o[i];for(var c=0;c<a.length;c++)n[a[c]]=0}return Promise.all([])},r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/",r.oe=function(e){process.nextTick(function(){throw e})},r.w={},r(r.s=44)}([function(e,t){e.exports=require("sequelize")},function(e,t,n){e.exports={port:process.env.PORT||3e3,trustProxy:process.env.TRUST_PROXY||"loopback",api:{clientUrl:process.env.API_CLIENT_URL||"",serverUrl:process.env.API_SERVER_URL||"http://localhost:".concat(process.env.PORT||80)},databaseUrl:process.env.DATABASE_URL||"sqlite:database.sqlite",analytics:{googleTrackingId:process.env.GOOGLE_TRACKING_ID},auth:{jwt:{secret:process.env.JWT_SECRET||"React Starter Kit"},facebook:{id:process.env.FACEBOOK_APP_ID||"186244551745631",secret:process.env.FACEBOOK_APP_SECRET||"a970ae3240ab4b9b8aae0f9f0661c6fc"},google:{id:process.env.GOOGLE_CLIENT_ID||"251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com",secret:process.env.GOOGLE_CLIENT_SECRET||"Y8yR9yZAhm9jQ8FKAL8QIEcd"},twitter:{key:process.env.TWITTER_CONSUMER_KEY||"Ie20AZvLJI2lQD5Dsgxgjauns",secret:process.env.TWITTER_CONSUMER_SECRET||"KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ"}}}},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("react-apollo")},function(e,t,n){var r=n(42),o=n(35);"string"==typeof r&&(r=[[e.i,r,""]]),e.exports=r.locals||{},e.exports._getContent=function(){return r},e.exports._getCss=function(){return r.toString()},e.exports._insertCss=function(e){return o(r,e)}},function(e,t){e.exports=require("apollo-cache-inmemory")},function(e,t){e.exports=require("node-fetch")},function(e,t){e.exports=require("./chunk-manifest.json")},function(e,t){e.exports=require("passport")},function(e,t){e.exports=require("express-jwt")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("isomorphic-style-loader/lib/withStyles")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("graphql-tools")},function(e,t){e.exports=require("universal-router")},function(e,t){e.exports=require("passport-facebook")},function(e,t){e.exports=require("serialize-javascript")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("apollo-link-schema")},function(e,t){e.exports=require("apollo-link-error")},function(e,t){e.exports=require("apollo-link")},function(e,t){e.exports=require("apollo-client")},function(e,t){e.exports=require("pretty-error")},function(e,t){e.exports=require("jsonwebtoken")},function(e,t){e.exports=require("express-graphql")},function(e,t){e.exports=require("graphql")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("bluebird")},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";var r=a(n(41)),o=a(n(40));function a(e){return e&&e.__esModule?e:{default:e}}var i="s",c={};e.exports=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.replace,s=void 0!==a&&a,u=n.prepend,l=void 0!==u&&u,p=[],f=0;f<e.length;f++){var d=(0,o.default)(e[f],4),h=d[0],m=d[1],y=d[2],b=d[3],g=h+"-"+f;if(p.push(g),!c[g]||s){c[g]=1;var v=document.getElementById(i+g),w=!1;v||(w=!0,(v=document.createElement("style")).setAttribute("type","text/css"),v.id=i+g,y&&v.setAttribute("media",y));var x=m;b&&"function"==typeof btoa&&(x+="\n/*# sourceMappingURL=data:application/json;base64,"+(t=(0,r.default)(b),btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)})))+"*/",x+="\n/*# sourceURL="+b.file+"?"+g+"*/"),"textContent"in v?v.textContent=x:v.styleSheet.cssText=x,w&&(l?document.head.insertBefore(v,document.head.childNodes[0]):document.head.appendChild(v))}else c[g]++}return function(e){e.forEach(function(e){if(--c[e]<=0){var t=document.getElementById(i+e);t&&t.parentNode.removeChild(t)}})}.bind(null,p)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(e,t,n){"use strict";n.r(t);var r=n(34),o=n.n(r),a=n(33),i=n.n(a),c=n(15),s=n.n(c),u=n(32),l=n.n(u),p=n(14),f=n.n(p),d=n(13),h=n.n(d),m=n(31),y=n(30),b=n.n(y),g=n(29),v=n.n(g),w=n(10),x=n.n(w),S=n(2),k=n.n(S),O=n(6),j=n.n(O),P=n(7),q=n(28),_=n.n(q),R=n(27),A=n(26),T=n(25),I=n(24),E=n(9);function U(e){switch(e.__typename){case"NewsItem":return e.link?"NewsItem:".concat(e.link):Object(E.defaultDataIdFromObject)(e);default:return Object(E.defaultDataIdFromObject)(e)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=Object(A.from)([Object(T.onError)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message,n=e.locations,r=e.path;return console.warn("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(r))}),n&&console.warn("[Network error]: ".concat(n))}),new I.SchemaLink(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){C(e,t,n[t])})}return e}({},e))]);return new R.ApolloClient({link:t,cache:new E.InMemoryCache({dataIdFromObject:U}),ssrMode:!0,queryDeduplication:!0})}var N,D=n(3),G=n.n(D),M=n(23);function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){$(e,t,n[t])})}return e}({insertCss:G.a.func.isRequired,fetch:G.a.func.isRequired,pathname:G.a.string.isRequired,query:G.a.object},M.Provider.childContextTypes,{client:G.a.object.isRequired}),J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,k.a.PureComponent),n=t,(r=[{key:"getChildContext",value:function(){return this.props.context}},{key:"render",value:function(){var e=this.props.context.client;return function(e,t,n,r){N||(N="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:N,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(P.ApolloProvider,{client:e},void 0,this.props.children)}}])&&K(n.prototype,r),o&&K(n,o),t}();Object.defineProperty(J,"childContextTypes",{configurable:!0,enumerable:!0,writable:!0,value:F});var z,V=J,W=n(22),H=n.n(W),Z=n(1),Y=n.n(Z);function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,n,r){z||(z="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:z,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var re=ee("meta",{charSet:"utf-8"}),oe=ee("meta",{httpEquiv:"x-ua-compatible",content:"ie=edge"}),ae=ee("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),ie=ee("link",{rel:"manifest",href:"/site.webmanifest"}),ce=ee("link",{rel:"apple-touch-icon",href:"/icon.png"}),se=ee("script",{src:"https://www.google-analytics.com/analytics.js",async:!0,defer:!0}),ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,k.a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,r=e.styles,o=e.scripts,a=e.app,i=e.children;return ee("html",{className:"no-js",lang:"en"},void 0,ee("head",{},void 0,re,oe,ee("title",{},void 0,t),ee("meta",{name:"description",content:n}),ae,o.map(function(e){return ee("link",{rel:"preload",href:e,as:"script"},e)}),ie,ce,r.map(function(e){return ee("style",{id:e.id,dangerouslySetInnerHTML:{__html:e.cssText}},e.id)})),ee("body",{},void 0,ee("div",{id:"app",dangerouslySetInnerHTML:{__html:i}}),ee("script",{dangerouslySetInnerHTML:{__html:"window.App=".concat(H()(a))}}),o.map(function(e){return ee("script",{src:e},e)}),Y.a.analytics.googleTrackingId&&ee("script",{dangerouslySetInnerHTML:{__html:"window.ga=function(){ga.q.push(arguments)};ga.q=[];ga.l=+new Date;"+"ga('create','".concat(Y.a.analytics.googleTrackingId,"','auto');ga('send','pageview')")}}),Y.a.analytics.googleTrackingId&&se))}}])&&te(n.prototype,r),o&&te(n,o),t}();Object.defineProperty(ue,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{styles:[],scripts:[]}});var le,pe=ue,fe=n(16),de=n.n(fe),he=n(8),me=n.n(he);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t,n,r){le||(le="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:le,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var we=be("div",{},void 0,be("h1",{},void 0,"Error"),be("p",{},void 0,"Sorry, a critical error occurred on this page.")),xe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,k.a.Component),n=t,(r=[{key:"render",value:function(){return we}}])&&ge(n.prototype,r),o&&ge(n,o),t}();Object.defineProperty(xe,"defaultProps",{configurable:!0,enumerable:!0,writable:!0,value:{error:null}});de()(me.a)(xe);function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ke(e,t,n[t])})}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(e,t){var n=t.baseUrl,r=t.cookie,o=t.schema,a=t.graphql,i={method:"POST",mode:n?"cors":"same-origin",credentials:n?"include":"same-origin",headers:Se({Accept:"application/json","Content-Type":"application/json"},r?{Cookie:r}:null)};return c=regeneratorRuntime.mark(function t(r,c){var s,u,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.startsWith("/graphql"),!(o&&a&&s)){t.next=7;break}return u=JSON.parse(c.body),t.next=5,a(o,u.query,{request:{}},null,u.variables);case 5:return l=t.sent,t.abrupt("return",Promise.resolve({status:l.errors?400:200,json:function(){return Promise.resolve(l)}}));case 7:return t.abrupt("return",s||r.startsWith("/api")?e("".concat(n).concat(r),Se({},i,c,{headers:Se({},i.headers,c&&c.headers)})):e(r,c));case 8:case"end":return t.stop()}},t,this)}),s=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=c.apply(e,t);function a(e,t){try{var a=o[e](t),c=a.value}catch(e){return void r(e)}a.done?n(c):Promise.resolve(c).then(i,s)}function i(e){a("next",e)}function s(e){a("throw",e)}i()})},function(e,t){return s.apply(this,arguments)};var c,s},je=n(12),Pe=n.n(je),qe=n(21),_e=n(0),Re=n.n(_e),Ae=new Re.a(Y.a.databaseUrl,{define:{freezeTableName:!0}}),Te=Ae.define("User",{id:{type:Re.a.UUID,defaultValue:Re.a.UUIDV1,primaryKey:!0},email:{type:Re.a.STRING(255),validate:{isEmail:!0}},emailConfirmed:{type:Re.a.BOOLEAN,defaultValue:!1}},{indexes:[{fields:["email"]}]}),Ie=Ae.define("UserLogin",{name:{type:Re.a.STRING(50),primaryKey:!0},key:{type:Re.a.STRING(100),primaryKey:!0}}),Ee=Ae.define("UserClaim",{type:{type:Re.a.STRING},value:{type:Re.a.STRING}}),Ue=Ae.define("UserProfile",{userId:{type:Re.a.UUID,primaryKey:!0},displayName:{type:Re.a.STRING(100)},picture:{type:Re.a.STRING(255)},gender:{type:Re.a.STRING(50)},location:{type:Re.a.STRING(100)},website:{type:Re.a.STRING(255)}});Te.hasMany(Ie,{foreignKey:"userId",as:"logins",onUpdate:"cascade",onDelete:"cascade"}),Te.hasMany(Ee,{foreignKey:"userId",as:"claims",onUpdate:"cascade",onDelete:"cascade"}),Te.hasOne(Ue,{foreignKey:"userId",as:"profile",onUpdate:"cascade",onDelete:"cascade"});var Ce={sync:function(){return Ae.sync.apply(Ae,arguments)}};Pe.a.use(new qe.Strategy({clientID:Y.a.auth.facebook.id,clientSecret:Y.a.auth.facebook.secret,callbackURL:"/login/facebook/return",profileFields:["displayName","name","email","link","locale","timezone"],passReqToCallback:!0},function(e,t,n,r,o){(function(){var n,a=(n=regeneratorRuntime.mark(function n(){var a,i,c,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.user){n.next=14;break}return n.next=3,Ie.findOne({attributes:["name","key"],where:{name:"facebook",key:r.id}});case 3:if(!n.sent){n.next=8;break}o(),n.next=12;break;case 8:return n.next=10,Te.create({id:e.user.id,email:r._json.email,logins:[{name:"facebook",key:r.id}],claims:[{type:"urn:facebook:access_token",value:r.id}],profile:{displayName:r.displayName,gender:r._json.gender,picture:"https://graph.facebook.com/".concat(r.id,"/picture?type=large")}},{include:[{model:Ie,as:"logins"},{model:Ee,as:"claims"},{model:Ue,as:"profile"}]});case 10:a=n.sent,o(null,{id:a.id,email:a.email});case 12:n.next=33;break;case 14:return n.next=16,Te.findAll({attributes:["id","email"],where:{"$logins.name$":"facebook","$logins.key$":r.id},include:[{attributes:["name","key"],model:Ie,as:"logins",required:!0}]});case 16:if(!(i=n.sent).length){n.next=22;break}c=i[0].get({plain:!0}),o(null,c),n.next=33;break;case 22:return n.next=24,Te.findOne({where:{email:r._json.email}});case 24:if(!(s=n.sent)){n.next=29;break}o(null),n.next=33;break;case 29:return n.next=31,Te.create({email:r._json.email,emailConfirmed:!0,logins:[{name:"facebook",key:r.id}],claims:[{type:"urn:facebook:access_token",value:t}],profile:{displayName:r.displayName,gender:r._json.gender,picture:"https://graph.facebook.com/".concat(r.id,"/picture?type=large")}},{include:[{model:Ie,as:"logins"},{model:Ee,as:"claims"},{model:Ue,as:"profile"}]});case 31:s=n.sent,o(null,{id:s.id,email:s.email});case 33:case"end":return n.stop()}},n,this)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})});return function(){return a.apply(this,arguments)}})()().catch(o)}));var Le,Ne,De=Pe.a,Ge=n(20),Me=n.n(Ge);var Qe,Ke={path:"/",children:[{path:"/",load:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,106))}},{path:"/contact",load:function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,107))}},{path:"/login",load:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,111))}},{path:"/register",load:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,112))}},{path:"/about",load:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,117))}},{path:"/privacy",load:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,116))}},{path:"/computex",load:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,105))}},{path:"/wallet",load:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,113))}},{path:"/wallet/:name",load:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,113))}},{path:"/txnhistory",load:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,115))}},{path:"/add_p2p_listing",load:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,110))}},{path:"/p2p",load:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,104))}},{path:"/admin",load:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,108))}},{path:"(.*)",load:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,109))}}],action:(Le=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.next,e.next=3,n();case 3:return(r=e.sent).title="".concat(r.title||"Untitled Page"," - eraswap"),r.description=r.description||"",e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}),Ne=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=Le.apply(e,t);function a(e,t){try{var a=o[e](t),s=a.value}catch(e){return void r(e)}a.done?n(s):Promise.resolve(s).then(i,c)}function i(e){a("next",e)}function c(e){a("throw",e)}i()})},function(e){return Ne.apply(this,arguments)})},Be=new Me.a(Ke,{resolveRoute:function(e,t){return console.log(e,t),"function"==typeof e.route.load?e.route.load().then(function(n){return n.default(e,t)}):"function"==typeof e.route.action?e.route.action(e,t):void 0}}),$e=n(4),Fe=n(19),Je=[],ze=new Date(1970,0,1),Ve={RootQuery:{reactjsGetAllNews:function(){return Qe||(new Date-ze>6e5?(ze=new Date,Qe=[{}],Je.length?Je:Qe):Je)}}};function We(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var He=We(["\n  # A single news article from [https://reactjsnews.com/](https://reactjsnews.com/)\n  type ReactJSNewsItem {\n    # The news item's title\n    title: String\n\n    # A direct link URL to this news item on reactjsnews.com\n    link: String\n\n    # The name of the news item's author\n    author: String\n\n    # The date this news item was published\n    pubDate: String\n\n    # News article in HTML format\n    content: String\n  }\n"]),Ze=We(["\n  # Retrieves the latest ReactJS News\n  reactjsGetAllNews: [ReactJSNewsItem]\n"]),Ye=Object($e.merge)(Ve);function Xe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})}}var et,tt,nt={RootQuery:{databaseGetAllUsers:(tt=Xe(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.findAll({include:[{model:Ie,as:"logins"},{model:Ee,as:"claims"},{model:Ue,as:"profile"}]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return tt.apply(this,arguments)}),databaseGetUser:(et=Xe(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.email,e.next=3,Te.findOne({where:{email:r},include:[{model:Ie,as:"logins"},{model:Ee,as:"claims"},{model:Ue,as:"profile"}]});case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)})),function(e,t){return et.apply(this,arguments)})}};var rt={RootQuery:{databaseGetLoggedInUser:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.user){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Te.findOne({where:{email:r.user.email},include:[{model:Ie,as:"logins"},{model:Ee,as:"claims"},{model:Ue,as:"profile"}]});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})});return function(e,n,r){return t.apply(this,arguments)}}()}};function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){at(e,t,n[t])})}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it={Mutation:{databaseCreateUser:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te.findOne({where:{email:n.email}});case 2:if(!e.sent){e.next=5;break}throw"User already exists!";case 5:return e.next=7,Te.create({email:n.email,profile:ot({},n.profile)},{include:[{model:Ue,as:"profile"}]});case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})});return function(e,n){return t.apply(this,arguments)}}()}};function ct(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var st=ct(["\n  # A user stored in the local database\n  type DatabaseUser {\n    id: String\n    email: String\n    emailConfirmed: Boolean\n    logins: [DatabaseUserLogin]\n    claims: [DatabaseUserClaim]\n    profile: DatabaseUserProfile\n    updatedAt: String\n    createdAt: String\n  }\n\n  type DatabaseUserLogin {\n    name: String\n    key: String\n    createdAt: String\n    updatedAt: String\n    userId: String\n  }\n\n  type DatabaseUserClaim {\n    id: Int\n    type: String\n    value: String\n    createdAt: String\n    updatedAt: String\n    userId: String\n  }\n\n  type DatabaseUserProfile {\n    userId: String\n    displayName: String\n    picture: String\n    gender: String\n    location: String\n    website: String\n    createdAt: String\n    updatedAt: String\n  }\n"]).concat(ct(["\n  # User profile data for creating a new local database user account\n  input UserProfile {\n    # A display name for the logged-in user\n    displayName: String!\n\n    # A profile picture URL\n    picture: String\n\n    # The user's gender\n    gender: String\n\n    # The user's location\n    location: String\n\n    # A website URL\n    website: String\n  }\n"])),ut=ct(["\n  # Retrieves all users stored in the local database\n  databaseGetAllUsers: [DatabaseUser]\n\n  # Retrieves a single user from the local database\n  databaseGetUser(\n    # The user's email address\n    email: String!\n  ): DatabaseUser\n"]).concat(ct(["\n  # Retrieves information about the currently logged-in user\n  databaseGetLoggedInUser: DatabaseUser\n"])),lt=ct(["\n  # Creates a new user and profile in the local database\n  databaseCreateUser(\n    # The email of the new user, this email must be unique in the database\n    email: String!\n\n    # User profile information for creating a new local database user account\n    profile: UserProfile!\n  ): DatabaseUser\n"]),pt=Object($e.merge)(nt,rt,it);function ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ht=["\n  # # React-Starter-Kit Querying API\n  # ### This GraphQL schema was built with [Apollo GraphQL-Tools](https://github.com/apollographql/graphql-tools)\n  # _Build, mock, and stitch a GraphQL schema using the schema language_\n  #\n  # **[Schema Language Cheet Sheet](https://raw.githubusercontent.com/sogko/graphql-shorthand-notation-cheat-sheet/master/graphql-shorthand-notation-cheat-sheet.png)**\n  #\n  # 1. Use the GraphQL schema language to [generate a schema](https://www.apollographql.com/docs/graphql-tools/generate-schema.html) with full support for resolvers, interfaces, unions, and custom scalars. The schema produced is completely compatible with [GraphQL.js](https://github.com/graphql/graphql-js).\n  # 2. [Mock your GraphQL API](https://www.apollographql.com/docs/graphql-tools/mocking.html) with fine-grained per-type mocking\n  # 3. Automatically [stitch multiple schemas together](https://www.apollographql.com/docs/graphql-tools/schema-stitching.html) into one larger API\n  type RootQuery {\n    ".concat(Ze,"\n    ").concat(ut,"\n  }\n")],mt=["\n  # # React-Starter-Kit Mutating API\n  # ### This GraphQL schema was built with [Apollo GraphQL-Tools](https://github.com/apollographql/graphql-tools)\n  # _Build, mock, and stitch a GraphQL schema using the schema language_\n  #\n  # **[Schema Language Cheet Sheet](https://raw.githubusercontent.com/sogko/graphql-shorthand-notation-cheat-sheet/master/graphql-shorthand-notation-cheat-sheet.png)**\n  #\n  # 1. Use the GraphQL schema language to [generate a schema](https://www.apollographql.com/docs/graphql-tools/generate-schema.html) with full support for resolvers, interfaces, unions, and custom scalars. The schema produced is completely compatible with [GraphQL.js](https://github.com/graphql/graphql-js).\n  # 2. [Mock your GraphQL API](https://www.apollographql.com/docs/graphql-tools/mocking.html) with fine-grained per-type mocking\n  # 3. Automatically [stitch multiple schemas together](https://www.apollographql.com/docs/graphql-tools/schema-stitching.html) into one larger API\n  type Mutation {\n    ".concat(lt,"\n  }\n")],yt=Object($e.merge)(Ye,pt),bt=["\n  schema {\n    query: RootQuery\n    mutation: Mutation\n  }\n"].concat(ht,mt,dt(He),dt(st)),gt=Object(Fe.makeExecutableSchema)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ft(e,t,n[t])})}return e}({typeDefs:bt,resolvers:yt},{})),vt=n(11),wt=n.n(vt),xt=n(5),St=n(18),kt=n.n(St);n(39),n(38);var Ot="SET_RUNTIME_VARIABLE";function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=Object(xt.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},runtime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jt(e,t,n[t])})}return e}({},e,jt({},t.payload.name,t.payload.value));default:return e}}});function qt(e){return function(){var t,r=(t=regeneratorRuntime.mark(function t(r,o){var a,i,c,s,u,l=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.length>2&&void 0!==l[2]?l[2]:{},i=a.skipCache,c=r,"string"!=typeof r){t.next=9;break}return t.next=7,Promise.resolve().then(function(e){return n(114)}.bind(null,n)).catch(n.oe);case 7:s=t.sent,c=s([r]);case 9:if(!i){t.next=11;break}return t.abrupt("return",e.networkInterface.query({query:c,variables:o}));case 11:if(u=!1,c.definitions&&(u=c.definitions.some(function(e){return e&&"mutation"===e.operation})),!u){t.next=15;break}return t.abrupt("return",e.mutate({mutation:c,variables:o}));case 15:return t.abrupt("return",e.query({query:c,variables:o}));case 16:case"end":return t.stop()}},t,this)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})});return function(e,t){return r.apply(this,arguments)}}()}n(17);var _t;function Rt(e,t){var n,r,o,a,i=(r=(n=t).apolloClient,o=n.fetch,{client:r,history:n.history,fetch:o,apolloClient:r,graphqlRequest:qt(o)}),c=[kt.a.withExtraArgument(i)];return a=xt.applyMiddleware.apply(void 0,c),Object(xt.createStore)(Pt,e,a)}function At(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tt(e,t,n,r){_t||(_t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),s=0;s<a;s++)c[s]=arguments[s+3];t.children=c}return{$$typeof:_t,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Et(e,t,n[t])})}return e}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}process.on("unhandledRejection",function(e,t){console.error("Unhandled Rejection at:",t,"reason:",e),process.exit(1)}),global.navigator=global.navigator||{},global.navigator.userAgent=global.navigator.userAgent||"all";var Ut=s()();Ut.set("trust proxy",Y.a.trustProxy),Ut.use(s.a.static(o.a.resolve(__dirname,"public"))),Ut.use(l()()),Ut.use(f.a.urlencoded({extended:!0})),Ut.use(f.a.json()),Ut.use(h()({secret:Y.a.auth.jwt.secret,credentialsRequired:!1,getToken:function(e){return e.cookies.id_token}})),Ut.use(function(e,t,n,r){e instanceof d.UnauthorizedError&&(console.error("[express-jwt-error]",t.cookies.id_token),n.clearCookie("id_token")),r(e)}),Ut.use(De.initialize()),Ut.get("/login/facebook",De.authenticate("facebook",{scope:["email","user_location"],session:!1})),Ut.get("/login/facebook/return",De.authenticate("facebook",{failureRedirect:"/login",session:!1}),function(e,t){var n=v.a.sign(e.user,Y.a.auth.jwt.secret,{expiresIn:15552e3});t.cookie("id_token",n,{maxAge:15552e6,httpOnly:!0}),t.redirect("/")});var Ct=b()(function(e){return{schema:gt,graphiql:!1,rootValue:{request:e},pretty:!1}});Ut.use("/graphql",Ct),Ut.get("*",function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n,r){var o,a,c,s,u,l,p,f,d,h,y,b,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=new Set,a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return o.add(e._getCss())})},c=L({schema:gt,rootValue:{request:t}}),s=Oe(x.a,{baseUrl:Y.a.api.serverUrl,cookie:t.headers.cookie,apolloClient:c,schema:gt,graphql:m.graphql}),u={user:t.user||null},(l=Rt(u,{cookie:t.headers.cookie,fetch:s,history:null})).dispatch((v={name:"initialNow",value:Date.now()},void 0,void 0,w=v.name,S=v.value,{type:Ot,payload:{name:w,value:S}})),p={insertCss:a,fetch:s,pathname:t.path,query:t.query,store:l,storeSubscription:null,client:c},e.next=11,Be.resolve(p);case 11:if(!(f=e.sent).redirect){e.next=15;break}return n.redirect(f.status||302,f.redirect),e.abrupt("return");case 15:return d=It({},f),h=Tt(V,{context:p},void 0,f.component),e.next=19,Object(P.getDataFromTree)(h);case 19:return e.next=21,i.a.delay(0);case 21:return e.next=23,j.a.renderToString(h);case 23:d.children=e.sent,d.styles=[{id:"css",cssText:At(o).join("")}],y=new Set,(b=function(e){wt.a[e]&&wt.a[e].forEach(function(e){return y.add(e)})})("client"),f.chunk&&b(f.chunk),f.chunks&&f.chunks.forEach(b),d.scripts=Array.from(y),d.app={apiUrl:Y.a.api.clientUrl,state:p.store.getState(),apolloState:p.client.extract()},g=j.a.renderToStaticMarkup(k.a.createElement(pe,d)),n.status(f.status||200),n.send("<!doctype html>".concat(g)),e.next=41;break;case 38:e.prev=38,e.t0=e.catch(0),r(e.t0);case 41:case"end":return e.stop()}var v,w,S},e,this,[[0,38]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e,t){try{var n=a[e](t),i=n.value}catch(e){return void o(e)}n.done?r(i):Promise.resolve(i).then(c,s)}function c(e){i("next",e)}function s(e){i("throw",e)}c()})});return function(e,n,r){return t.apply(this,arguments)}}());var Lt=new _.a;Lt.skipNodeFiles(),Lt.skipPackage("express"),Ut.use(function(e,t,n,r){console.error(Lt.render(e));var o=j.a.renderToStaticMarkup(Tt(pe,{title:"Internal Server Error",description:e.message,styles:[{id:"css",cssText:me.a._getCss()}]},void 0,j.a.renderToString(Tt(xe,{error:e}))));n.status(e.status||500),n.send("<!doctype html>".concat(o))}),Ce.sync().catch(function(e){return console.error(e.stack)}).then(function(){Ut.listen(Y.a.port,function(){console.info("The server is running at http://localhost:".concat(Y.a.port,"/"))})});t.default=Ut},function(e){e.exports={}},function(e,t){e.exports=require("redux-devtools-extension/developmentOnly")},function(e,t){e.exports=require("babel-runtime/helpers/slicedToArray")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t,n){(e.exports=n(36)(!1)).push([e.i,"html{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:0 32px;padding:0 2rem;height:100%;font-family:sans-serif;text-align:center;color:#888}body{margin:0}h1{font-weight:400;color:#555}pre{white-space:pre-wrap;text-align:left}",""])},function(e,t){e.exports=require("@babel/polyfill")},function(e,t,n){n(43),e.exports=n(37)},function(e,t){e.exports=require("antd")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("qrcode.react")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("stringquery")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("history/createBrowserHistory")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=require("graphql-tag")}]);
//# sourceMappingURL=server.js.map